//
// Generic panel usable on any WG landing page or "About" sub-page.
// Compose with the leader-card.html partial.

.wg-leadership-panel {
  background: rgba(0,0,0,0.03);
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 1rem;
  padding: 1.25rem;
  margin-bottom: 1rem;
}

.wg-leadership-label {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: $gray-500;
  margin-bottom: 1rem;
}

.wg-leadership-persons {
  display: flex;
  flex-direction: column;  // compact cards always stack vertically in the sidebar
  gap: 0.6rem;

  // Legacy modifier — kept for any remaining large-card contexts
  &--large {
    gap: 1rem;
  }
}

// ─── Leader card (generic) ──────────────────────────────────────────────────
//
// Used by layouts/partials/leader-card.html.
// Can be embedded in any context: WG pages, blog author panels, event speakers.

.wg-leader-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 0.35rem;
  min-width: 100px;
  flex: 1;
}

.wg-leader-avatar {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid rgba(0,0,0,0.08);
  margin-bottom: 0.15rem;

  &--large {
    width: 110px;
    height: 110px;
    margin-bottom: 0;
    flex-shrink: 0;
    border-width: 2px;
  }
}

.wg-leader-initials {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  font-weight: 800;
  color: #fff;
  letter-spacing: -0.02em;
  // Use page accent first, fall back to wg-color, then default green
  background: var(--page-accent, var(--wg-color, #{$green}));

  &.wg-leader-avatar--large {
    font-size: 2rem;
  }
}

.wg-leader-name {
  font-size: 0.82rem;
  font-weight: 700;
  color: #111;
  line-height: 1.3;
}

.wg-leader-role {
  font-size: 0.72rem;
  font-weight: 500;
  color: $gray-500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.wg-leader-jobtitle {
  font-size: 0.78rem;
  color: $gray-600;
  line-height: 1.4;
  margin-top: 0.1rem;
}

.wg-leader-name-row {
  display: flex;
  align-items: center;
  gap: 0.2rem;
  flex-wrap: nowrap;
}

.wg-leader-info {
  flex: 1;
  min-width: 0;
}

// Large card — horizontal layout like blog-author-card
.wg-leader-card--large {
  flex-direction: row;
  align-items: flex-start;
  text-align: left;
  gap: 1rem;
  min-width: 240px;

  .wg-leader-name {
    font-size: 1rem;
    font-weight: 700;
  }

  .wg-leader-role {
    font-size: 0.75rem;
    margin-top: 0.15rem;
  }
}

.wg-leader-org {
  margin-top: 0.25rem;
}

.wg-leader-org-logo {
  max-width: 80px;
  max-height: 28px;
  object-fit: contain;
  filter: grayscale(1) contrast(0.7);
  transition: filter 0.15s;

  .wg-leader-card:hover & { filter: none; }

  &--large {
    max-width: 120px;
    max-height: 36px;
  }
}

.wg-leader-org-name {
  font-size: 0.72rem;
  color: $gray-500;
  text-decoration: none;
  &:hover { color: $green; }
}

.wg-leader-linkedin {
  display: inline-flex;
  align-items: center;
  gap: 0.3em;
  font-size: 0.72rem;
  font-weight: 600;
  color: #0077b5;
  text-decoration: none;
  margin-top: 0.2rem;
  transition: opacity 0.15s;

  &:hover { opacity: 0.8; }

  // Icon-only variant used in the name row of large cards
  &--icon {
    margin-top: 0;
    font-size: 1rem;
    color: #0077b5;
  }
}

// ── Consortium leadership grid wrapper ────────────────────────────────────────
// Used by the {{< consortium-leadership >}} shortcode on About / Board / EC pages.
// Individual cards are rendered by the person-card.html partial (.person-card).

.consortium-leaders {
  display: flex;
  flex-wrap: wrap;
  gap: 1.25rem;
  margin: 1.5rem 0 2rem;
}

// ── Person card ───────────────────────────────────────────────────────────────
// Generic, reusable card used for consortium leadership, speakers, authors, etc.
// Rendered by layouts/partials/person-card.html.

.person-card {
  display: flex;
  flex-direction: column;  // footer spans full width below avatar+body row
  padding: 1.1rem 1.25rem 0;  // no bottom padding — footer provides it
  background: #fff;
  border: 1px solid $gray-200;
  border-radius: 0.85rem;
  flex: 1 1 280px;
  max-width: 440px;
  transition: box-shadow 0.18s, border-color 0.18s;

  &:hover {
    box-shadow: 0 4px 18px rgba(0,0,0,0.08);
    border-color: $gray-300;
  }

  &--past {
    // No visual change to the card itself — grey ring is the only differentiator
  }
}

// Top row: avatar + body side by side
.person-card-main {
  display: flex;
  align-items: flex-start;
  gap: 1.1rem;
}

// ─── Avatar frame — the colored "Open to Work"-style ring ─────────────────────
// The frame size is driven by the CSS custom property --avatar-px set inline.

.person-card-avatar-frame {
  position: relative;
  flex-shrink: 0;
  width: calc(var(--avatar-px, 80px) + 8px);  // +8px for 3px ring on each side + 1px gap
  height: calc(var(--avatar-px, 80px) + 8px);
  border-radius: 50%;
  // Active ring: solid green
  border: 3px solid $green;
  // Inner white 1px gap between ring and photo
  padding: 2px;
  background: #fff;

  &--past {
    border-color: $gray-300;
  }
}

.person-card-avatar {
  display: block;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

.person-card-avatar--initials {
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  width: 100%;
  height: 100%;
  font-size: clamp(1rem, calc(var(--avatar-px, 80px) * 0.3), 2rem);
  font-weight: 800;
  color: #fff;
  letter-spacing: -0.02em;
  background: var(--page-accent, var(--wg-color, #{$green}));
}

// ─── Role arc — the label that hangs from the bottom of the ring ───────────
// Inspired by LinkedIn's "Open to Work" green half-circle label.

.person-card-role-arc {
  position: absolute;
  bottom: -2px;
  left: 50%;
  transform: translateX(-50%);
  background: $green;
  color: #fff;
  font-size: 0.5rem;
  font-weight: 900;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  white-space: nowrap;
  border-radius: 99px;
  padding: 0.13em 0.55em;
  border: 2px solid #fff;
  line-height: 1.4;
  z-index: 1;
  max-width: 120px;
  text-overflow: ellipsis;
  overflow: hidden;

  &--past {
    background: $gray-400;
  }
}

// ─── Card body ────────────────────────────────────────────────────────────────

.person-card-body {
  flex: 1;
  min-width: 0;
  padding-bottom: 0.75rem;
}

.person-card-name-row {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  flex-wrap: nowrap;
  // Push dates to the bottom of the card body
  // (The body uses flex-column, so we add flex: 0 0 auto to rows and flex: 1 to spacer)
}

.person-card-name {
  font-size: 1rem;
  font-weight: 700;
  color: #111;
  line-height: 1.3;
  text-decoration: none;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  &:hover { color: $green; }
}

.person-card-linkedin {
  display: inline-flex;
  align-items: center;
  color: #0077b5;
  text-decoration: none;
  flex-shrink: 0;
  transition: opacity 0.15s;
  &:hover { opacity: 0.75; }
}

.person-card-jobtitle {
  font-size: 0.78rem;
  color: $gray-500;
  line-height: 1.4;
  margin-top: 0.3rem;
}

.person-card-org {
  margin-top: 0.45rem;
}

.person-card-org-logo-wrap {
  display: flex;
  align-items: center;
  height: 28px;         // fixed container height — applies equally to SVG and raster
  max-width: 120px;
  overflow: hidden;
}

.person-card-org-logo {
  display: block;
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  filter: grayscale(1) contrast(0.65) brightness(0.95);
  transition: filter 0.18s;
  .person-card:hover & { filter: none; }
}

.person-card-org-name {
  font-size: 0.78rem;
  color: $gray-500;
  text-decoration: none;
  &:hover { color: $green; }
}

